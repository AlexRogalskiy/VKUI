## Разработка
1. Склонировать репозиторий и перейти в созданную директорию.
2. Установить зависимости: `yarn install`.
3. Поднять локально документацию с лайврелоадом: `yarn styleguide`.

Документация будет доступна на `http://localhost:6060`. В ней ведётся вся разработка. Для удобства можно сразу перейти на страницу разрабатываемого компонента (`http://localhost:6060/#/UsersStack`)

## Чеклист для компонента

### Организационные моменты

* Дизайн компонента описан в [Figma](https://www.figma.com/@vk)
* Компонент находится в своей папке в `src/components` и не делит её с другими публичными компонентами (один файл — один компонент)
* У компонента есть понятная документация, описанная в директории компонента в файле `Readme.md`. Файл подключается в `styleguide/config.js`

### Модульный CSS

Для уменьшения CSS-бандла мы движемся к модульному CSS — каждый компонент будет сам импортировать свои стили, и в приложение попадут только стили используемых компонентов. Сделать это разом не получилось, потому что часто наши стили зависят от порядка подключения. Для плавной миграции мы помечаем модульные CSS-файлы расширением `.m.css`.

- Модульные стили
  - Пишутся в файле `Component.m.css`
  - Импортируются в tsx компонента.
  - Могут ссылаться _только_ на свой компонент (все селекторы начинаются с `.Component`).
  - Из других файлов нельзя ссылаться на селекторы `Component`
  - Могут импортироваться в приложение по отдельности.
  - Компоненты с глобальными стилями не могут импортировать компоненты с модульными стилями
- Глобальные стили
  - Пишутся в файле `Component.css`.
  - Импортируются в `src/styles/components.css`
  - Всегда импортируются в приложение.

Для новых компонентов лучше сразу использовать модульные стили. Также мы всегда рады превращению существующих стилей в модульные.

__Pro tip__ после добавления модульного CSS-файла стоит запустить линтер без кеша: `npx stylelint "./src/**/*.css"`

### Требования к разработке

* CSS-классы компонента передаем через `vkuiClass="Cmp"`
* Свойства `className` и `style` навешиваются на корневой элемент компонента
* Свойства, не используемые в коде компонента, навешиваются на **главный** элемент компонента. По умолчанию главным является корневой элемент:
```jsx
props => <div {...props} vkuiClass="Component" />
```

Бывают случаи, например поле ввода, когда главным является именно `input`, а не обёртка:
```jsx
const { mode, style, className, ...restProps } = props;

return (
  <div vkuiClass={classNames('Input', `Input--${mode}`)} className={className} style={style}>
    <input {...restProps} />
  </div>
);
```
* Компонент корректно отрисовывается, если не передавать никаких свойств (пользуемся `defaultProps`)
* Для цветов используются цветовые токены
* Для типографии используются компоненты [Typography](https://vkcom.github.io/VKUI/#!/Typography) там, где это возможно
* Добавлен `export` компонента и его свойств в `src/index.ts`
* Компонент корректно отображается на всех платформах, размерах и цветовых схемах. В styleguide для всех этих параметров есть переключатели
* Код корректно работает на [поддерживаемых нами браузерах](https://github.com/VKCOM/VKUI#%D0%B1%D1%80%D0%B0%D1%83%D0%B7%D0%B5%D1%80%D1%8B)
